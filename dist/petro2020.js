/*! petro2020 - 0.0.3 | Wed, 02 Oct 2019 12:14:06 GMT | rendrom@gmail.com | ISC | https://github.com/rendrom/petro2020#readme */!function(n){var e={};function t(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,a){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(a,o,function(e){return n[e]}.bind(null,o));return a},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/",t(t.s=9)}([function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||"",a=n[3];if(!a)return t;if(e&&"function"==typeof btoa){var o=(i=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=a.sources.map((function(n){return"/*# sourceURL=".concat(a.sourceRoot).concat(n," */")}));return[t].concat(r).concat([o]).join("\n")}var i,s,c;return[t].join("\n")}(e,n);return e[2]?"@media ".concat(e[2],"{").concat(t,"}"):t})).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var a={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var i=0;i<n.length;i++){var s=n[i];null!=s[0]&&a[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="(".concat(s[2],") and (").concat(t,")")),e.push(s))}},e}},function(n,e,t){"use strict";var a,o={},r=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}();function s(n,e){for(var t=[],a={},o=0;o<n.length;o++){var r=n[o],i=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};a[i]?a[i].parts.push(s):t.push(a[i]={id:i,parts:[s]})}return t}function c(n,e){for(var t=0;t<n.length;t++){var a=n[t],r=o[a.id],i=0;if(r){for(r.refs++;i<r.parts.length;i++)r.parts[i](a.parts[i]);for(;i<a.parts.length;i++)r.parts.push(f(a.parts[i],e))}else{for(var s=[];i<a.parts.length;i++)s.push(f(a.parts[i],e));o[a.id]={id:a.id,refs:1,parts:s}}}}function l(n){var e=document.createElement("style");if(void 0===n.attributes.nonce){var a=t.nc;a&&(n.attributes.nonce=a)}if(Object.keys(n.attributes).forEach((function(t){e.setAttribute(t,n.attributes[t])})),"function"==typeof n.insert)n.insert(e);else{var o=i(n.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var d,u=(d=[],function(n,e){return d[n]=e,d.filter(Boolean).join("\n")});function p(n,e,t,a){var o=t?"":a.css;if(n.styleSheet)n.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(r,i[e]):n.appendChild(r)}}function m(n,e,t){var a=t.css,o=t.media,r=t.sourceMap;if(o&&n.setAttribute("media",o),r&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleSheet)n.styleSheet.cssText=a;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(a))}}var g=null,h=0;function f(n,e){var t,a,o;if(e.singleton){var r=h++;t=g||(g=l(e)),a=p.bind(null,t,r,!1),o=p.bind(null,t,r,!0)}else t=l(e),a=m.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return a(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;a(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r());var t=s(n,e);return c(t,e),function(n){for(var a=[],r=0;r<t.length;r++){var i=t[r],l=o[i.id];l&&(l.refs--,a.push(l))}n&&c(s(n,e),e);for(var d=0;d<a.length;d++){var u=a[d];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete o[u.id]}}}}},function(n,e,t){var a=t(3);"string"==typeof a&&(a=[[n.i,a,""]]);var o={insert:"head",singleton:!1};t(1)(a,o);a.locals&&(n.exports=a.locals)},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,"body, html {\n  background: #f2f2f2;\n}\n\npre, .message {\n  max-width: 960px;\n}\n\nli {\n  margin: 10px\n}\n\n.logo2020 {\n  color: #524ad0;\n}\n\n.hero.is-primary {\n  background: linear-gradient(to top right, #524ad0 10%, #D099FA);\n}\n\n.box {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n}\n\n.box span.icon {\n  float: right;\n  font-size: 1.7em;\n  padding: 2rem 2rem 0 0;\n}\n\n.is-large.fab {\n  font-size: 7em;\n}\n\n.is-large.fas {\n  font-size: 5em;\n  margin-left: 0.2em;\n}\n\n.media-content {\n  overflow: hidden;\n}\n\n.menu-list li a:hover {\n  background: #d9d9d9;\n}\n\n.token.number {\n  display: inline;\n  padding: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  text-align: inherit;\n  vertical-align: inherit;\n  border-radius: inherit;\n  font-weight: inherit;\n  white-space: inherit;\n  background: inherit;\n  margin: inherit;\n}\n\n.footer {\n  background-color: white;\n}\n\n/* .content.is-medium {\n  font-size: 18px!important;\n} */\n\n#page-settings {\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 10px;\n}\n\n.menu-list a {\n  color: #0F1D38;\n  font-size: 14px;\n  font-weight: 700;\n}\n\n.login-link a, .logout-user a {\n  color: inherit !important;\n}\n\n#map.active {\n  width: 100%;\n  height: 600px;\n}\n\n.navbar-brand>.navbar-brand {\n  cursor: pointer;\n}\n\n.info-panel {\n  max-height: 560px;\n  overflow: scroll;\n}\n\n#loginWindow_content {\n  height: inherit!important;\n}\n",""])},function(n,e,t){var a=t(5);"string"==typeof a&&(a=[[n.i,a,""]]);var o={insert:"head",singleton:!1};t(1)(a,o);a.locals&&(n.exports=a.locals)},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,".navbar.is-fixed-top {\n  z-index: 2000!important;\n}\n\n.header-text {\n  color: #0e0965;\n}\n\n.love-science-robots {\n  padding-top: 10px;\n}\n\n.org-hero .hero-body {\n  padding: 1rem 1.5rem;\n}\n\n.org-icon {\n  padding: 0 0.1rem;\n  transition: all .2s ease-in-out;\n}\n\n.org-icon:hover {\n  transform: scale(1.1);\n}\n\n.org-ico_container {\n  padding-top: 0.3rem;\n}\n\n.main-hero {\n  min-height: 300px;\n  max-height: 350px;\n  /* background: url('http://127.0.0.1:5500/conferences/petro/data/header-low.jpg') center center; */\n  background-image: url('https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/header-low.jpg');\n  background-position: center center;\n  background-size: cover;\n}\n\n/* body {\n  background-image: url('https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/background.jpg');\n} */\n\n.org-link {\n  /* white-space: nowrap; */\n  color: #4a4a4a;\n}\n\n.org-link:hover, .org-link.active {\n  color: #b9983f;\n}\n\n.org-links_container .divider {\n  padding: 0 1rem;\n}\n\n.org-links_container .divider::before {\n  content: '/'\n}\n\n.box.cta {\n  border-radius: 0;\n  border-left: none;\n  border-right: none;\n}\n\n.date-tile {\n  font-size: 42pt;\n  text-align: center;\n}\n\n/* .tile.notification {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n} */\n\n.is-shady {\n  animation: flyintoright .4s backwards;\n  background: #fff;\n  box-shadow: rgba(0, 0, 0, .1) 0 1px 0;\n  border-radius: 4px;\n  display: inline-block;\n  margin: 10px;\n  position: relative;\n  transition: all .2s ease-in-out;\n}\n\n.is-shady:hover {\n  box-shadow: 0 10px 16px rgba(0, 0, 0, .13), 0 6px 6px rgba(0, 0, 0, .19);\n}\n\n#tile-map {\n  width: 100%;\n  height: 100%;\n  min-width: 225px;\n  min-height: 300px;\n}\n",""])},function(n,e){window.CONF_URL="http://petro2020.igc.irk.ru"},function(n,e,t){var a=t(8);"string"==typeof a&&(a=[[n.i,a,""]]);var o={insert:"head",singleton:!1};t(1)(a,o);a.locals&&(n.exports=a.locals)},function(n,e,t){(n.exports=t(0)(!1)).push([n.i,".calendar table {\n  width: auto!important;\n}\n\n#extra.calendar {\n  height: 1000px;\n}\n\n.month-container {\n  margin-top: 20px;\n}\n\n/* .calendar .calendar-header {\n  background-color: #CC251F;\n  color: white;\n  border: 0;\n} */\n\n/* .calendar .calendar-header .year-title:hover, .calendar .calendar-header .prev:hover, .calendar .calendar-header .next:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.calendar .calendar-header .year-neighbor {\n  color: inherit;\n  opacity: 0.7;\n}\n\n.calendar .calendar-header .year-neighbor2 {\n  color: inherit;\n  opacity: 0.4;\n}\n\n.calendar .month-container {\n  height: 210px;\n}\n\n.calendar table.month {\n  height: 100%;\n}\n\n.calendar table.month .month-title {\n  background-color: #CC251F;\n  color: white;\n  padding: 5px;\n}\n\n.calendar table.month .day-header {\n  padding-top: 8px;\n  border-bottom: 2px solid #CC251F;\n}\n\n.calendar table.month td.day .day-content {\n  padding: 5px 8px;\n} */\n",""])},function(n,e,t){"use strict";t.r(e);var a,o,r,i;t(2),t(4),t(6);function s(n){var e=document.createElement("link");e.rel="stylesheet",e.href=n;var t=document.head.getElementsByTagName("link");document.head.insertBefore(e,t[0])}function c(n){var e=document.createElement("script");e.type="text/javascript",e.src=n,document.head.appendChild(e)}a=window.Tapestry?window.Tapestry.onDOMLoaded:function(n){document.addEventListener("DOMContentLoaded",n)},s("https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"),s("https://unpkg.com/bulma@0.7.5/css/bulma.min.css"),s("https://use.fontawesome.com/releases/v5.5.0/css/all.css"),o="viewport",r="width=device-width, initial-scale=1",(i=document.createElement("meta")).name=o,i.content=r,document.head.appendChild(i);var l,d,u,p,m="ru",g=768,h=window.CONF_URL;function f(){var n,e,t=[];for(n=0;n<l.length;n++){var a=y(l[n]);t.push(a)}var o=document.getElementById("app-navbar"),r=document.getElementById("js-navbar-items"),i=[];r.innerHTML="";var s=r.clientWidth,c=document.getElementById("js-navbar-end").clientWidth,d=o.clientWidth-c-52,u=s>d;for(n=0;n<t.length;n++)e=t[n],u||(r.appendChild(e),u=(s+=e.clientWidth)>d),u&&(i.push(e),e.parentNode===r&&r.removeChild(e));if(i.length){var p=document.createElement("div");p.className="navbar-item has-dropdown is-hoverable",p.innerHTML=['<a class="navbar-link is-arrowless"><i class="fas fa-ellipsis-h"></i></a>','<div class="navbar-dropdown"></div>'].join("");var m=p.getElementsByClassName("navbar-dropdown")[0];for(n=0;n<i.length;n++)e=i[n],m.appendChild(e);r.appendChild(p)}}function v(){var n=document.getElementsByClassName("menu-list")[0];window.innerWidth<g?n.style.display="none":n.style.display="block";for(var e=0;e<l.length;e++){var t=l[e];t.className=t.className.replace(" tags",""),window.innerWidth<g&&(t.className=t.className+" tags")}}function b(){w(!1)}function w(n){if(d){var e=document.getElementById("js-navbar-burger");n=void 0!==n?n:-1===d.className.indexOf("is-active"),d.className=d.className.replace(" is-active",""),e.className=e.className.replace(" is-active",""),n?(e.className=e.className+" is-active",d.className=d.className+" is-active",d.style.display="block"):d.style.display="none"}}function y(n){var e=document.createElement("a");return e.className="navbar-item",e.href=n.href,e.innerHTML=n.innerHTML,n===u&&(e.className+=" is-active"),e}function x(n,e){n.className=n.className?" "+e:e}function N(n,e){for(var t=0;t<n.length;t++)e(n[t])}window.addEventListener("load",(function(){f()})),a((function(){var n,e,t;document.body.className=document.body.className+" has-navbar-fixed-top",function(){var n=document.getElementsByClassName("menu-list")[0];l=n.getElementsByTagName("a");for(var e=0;e<l.length;e++){var t=l[e];if(-1!==t.href.indexOf(window.location.pathname)){t.className+=" has-text-primary",u=t;break}}}(),v(),function(){n=document.getElementById("js-language-switcher"),n&&(m=-1!==n.href.indexOf(":ru")?"en":"ru");var n;for(var e=document.getElementsByClassName("i18n"),t={en:{"language-switcher":"РУ"},ru:{"language-switcher":"EN"}}[m],a=0;a<e.length;a++){var o=e[a],r=o.className.match(/i18n-([A-z1-9-]+)/,"$1")[1];o.innerHTML=t[r]||o.innerHTML}}(),n=document.getElementsByTagName("h2"),e="title is-3",N(n,(function(n){x(n,e)})),N(document.getElementsByTagName("input"),(function(n){"submit"===n.type?x(n,"button"):-1!==["text","password","email","tel"].indexOf(n.type)&&x(n,"input")})),d=document.getElementById("js-mobile-menu"),b(),function(){for(var n=0;n<l.length;n++){var e=y(l[n]);d.appendChild(e)}}(),document.getElementById("js-navbar-burger").addEventListener("click",(function(){w()})),(t=document.getElementById("js-navbar-brand"))&&(t.onclick=function(){window.open(h||window.location.origin,"_self")})})),window.addEventListener("resize",(function(){v(),f(),b()}));var j={};function k(n,e){p=n.geojson,n&&n.ngwMapOptions&&(j=n.ngwMapOptions),c("https://unpkg.com/@nextgis/ngw-mapbox");var t=setInterval((function(){window.NgwMap&&(!function(n){const e={style:"mapbox://styles/mapbox/light-v10",center:[104.269397,52.243519],zoom:15.5,target:"map",accessToken:"pk.eyJ1IjoicmVuZHJvbSIsImEiOiJjano5cTQ5ZHUwMWIzM29tbW44eHRiZnZ0In0.ySxxfs_Fi6Ny85rarvwuNA",pitch:45,bearing:-17.6,antialias:!0};for(var t in j)e[t]=j[t];var a=new window.NgwMap(e),o=a.mapAdapter.map;o.on("load",(function(){n&&n(o,a);for(var e,t=o.getStyle().layers,r=0;r<t.length;r++)if("symbol"===t[r].type&&t[r].layout["text-field"]){e=t[r].id;break}o.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},e),o.addSource("highlighted-buildings",{type:"geojson",data:p}),o.addLayer({id:"3d-buildings-highlighted",source:"highlighted-buildings",filter:["==","extrude","true"],type:"fill-extrusion",paint:{"fill-extrusion-color":"red","fill-extrusion-height":["interpolate",["linear"],["zoom"],1,1,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},e)}))}(e),clearInterval(t))}),10)}var C="http://geonote.nextgis.com";function E(){c("https://unpkg.com/@nextgis/ngw-leaflet");var n=setInterval((function(){window.NgwMap&&(new window.NgwMap({baseUrl:"http://geonote.nextgis.com",center:[104.269397,52.243519],zoom:15.5,target:"tile-map",qmsId:487,controls:["ATTRIBUTION"]}).addNgwLayer({resourceId:347,fit:!0}),clearInterval(n))}),10)}t(7);function D(n,e){c("https://unpkg.com/js-year-calendar@latest/dist/js-year-calendar.min.js"),s("https://unpkg.com/js-year-calendar@latest/dist/js-year-calendar.min.css"),c("https://unpkg.com/popper.js@1");var t=setInterval((function(){window.Calendar&&c("https://unpkg.com/js-year-calendar@latest/locales/js-year-calendar.ru.js"),window.Popper&&c("https://unpkg.com/tippy.js@4"),window.Calendar&&window.Calendar.locales.ru&&window.Popper&&(!function(n,e){var t=document.getElementById("extra");(n=n||{}).language="ru",n.mouseOnDay=n.mouseOnDay||function(n){if(n.events.length>0){for(var e="",t=0;t<n.events.length;t++){var a=n.events[t];e+='<div class="event-tooltip-content"><div class="event-name" style="color:'+a.color+'">'+a.name+"</div></div>"}var o=window.tippy(n.element);o&&(o.set({content:e,arrow:!0,followCursor:!0,theme:"light",animateFill:!1,duration:0,delay:[0,10]}),o.show())}};var a=new window.Calendar(t,n);e&&e(a)}(n,e),clearInterval(t))}),10)}a((function(){var n="https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/header.jpg",e=document.getElementsByClassName("main-hero")[0],t=new Image;t.src=n,t.onload=function(){e.style.backgroundImage="url('https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/header.jpg')"}})),a((function(){document.getElementById("tile-map")&&E()})),-1!==window.location.pathname.indexOf("/place")&&a((function(){var n=document.getElementById("map");n.className=(n.className?n.className+" ":"")+"active",k({geojson:"https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/place.geojson",ngwMapOptions:{zoom:17,baseUrl:C,resources:[],controlsOptions:{ZOOM:{showCompass:!0}}}},(function(n){n.setPitch(45),function(n){var e,t=!1;function a(e){if(!t){var a=e;n.rotateTo(a+90,{duration:2e3,easing:function(n){return n}})}}n.on("moveend",(function(){a(n.getBearing())})),n.on("click",(function(){t=!0})),n.on("mouseover",(function(){window.clearTimeout(e),t=!0,n.rotateTo(n.getBearing())})),n.on("mouseout",(function(){e=setTimeout((function(){t=!1,n.setCenter([104.269397,52.243519]),n.setZoom(15.5),n.setPitch(45),a(n.getBearing())}),1e4)})),a(n.getBearing())}(n),function(n){n.addSource("places",{type:"geojson",data:"https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/label.geojson"});for(var e=["logo_igc","logo_crust"],t=0,a=0;a<e.length;a++){var o=e[a],r=new Image;r.crossOrigin="Anonymous",r.src="https://raw.githubusercontent.com/rendrom/petro2020/master/conferences/petro/data/"+o+".png",r.onload=i(o)}function i(a){return function(o){t+=1,n.addImage(a,o.target),function(n){t===e.length&&n.addLayer({id:"poi-labels",type:"symbol",source:"places",layout:{"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":.5,"text-justify":"auto","icon-image":["get","icon"]}})}(n)}}}(n)}))})),-1!==window.location.pathname.indexOf("/imp_dates")&&a((function(){D({dataSource:[{id:1,name:"Регистрация участников",startDate:new Date,endDate:new Date(2020,1,3),color:"yellow"},{id:2,name:"Прием тезисов докладов",startDate:new Date,endDate:new Date(2020,4,30),color:"lightgreen"},{id:0,name:"1-й Циркуляр",startDate:new Date(2019,9,1),endDate:new Date(2019,8,22),color:"red"},{id:3,name:"2-й Циркуляр (программа)",startDate:new Date(2020,6,20),endDate:new Date(2020,6,20),color:"red"},{id:4,name:"Совещание",startDate:new Date(2020,8,7),endDate:new Date(2020,8,10),color:"#524ad0"},{id:5,name:"Экскурсии",startDate:new Date(2020,8,11),endDate:new Date(2020,8,13),color:"#00d1b2"}],minDate:new Date,maxDate:new Date(2020,8,13),style:"border"})}))}]);
//# sourceMappingURL=petro2020.js.map